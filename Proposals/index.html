<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GPC Proposal Generator | Constellation</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Sortable/1.15.2/Sortable.min.js"></script>
</head>
<body class="bg-gray-100 text-gray-800 font-sans h-screen flex flex-col">

    <div id="passcode-screen" class="absolute inset-0 bg-slate-900 flex flex-col items-center justify-center z-50">
        <div class="bg-white p-8 rounded-lg shadow-xl text-center max-w-sm w-full">
            <h2 class="text-2xl font-bold mb-4 text-blue-900">GPC Proposal Engine</h2>
            <p class="text-gray-600 mb-6 text-sm">Enter the Strategic Accounts passcode to access the generator.</p>
            <input type="password" id="passcode-input" class="w-full border-2 border-gray-300 p-3 rounded mb-4 focus:outline-none focus:border-blue-500" placeholder="Passcode">
            <button id="unlock-btn" class="w-full bg-blue-600 text-white font-bold py-3 rounded hover:bg-blue-700 transition">Unlock Engine</button>
            <p id="error-msg" class="text-red-500 text-sm mt-3 hidden">Incorrect passcode. Try again.</p>
        </div>
    </div>

    <div id="main-content" class="hidden flex-1 overflow-hidden flex flex-col">
        <header class="bg-blue-900 text-white p-4 shadow-md flex justify-between items-center">
            <h1 class="text-xl font-bold tracking-wide">Constellation | Self-Serve Proposal Generator</h1>
            <span class="text-sm bg-blue-800 px-3 py-1 rounded">Strategic Accounts</span>
        </header>

        <div class="flex-1 flex overflow-hidden">
            
            <div class="w-1/3 bg-white border-r border-gray-200 overflow-y-auto p-6 shadow-inner">
                
                <h2 class="text-lg font-bold mb-4 border-b pb-2 text-blue-900">1. Global Variables</h2>
                <div class="space-y-4 mb-8">
                    <div><label class="block text-sm font-semibold text-gray-700">RFP Name</label><input type="text" class="w-full border p-2 rounded mt-1 bg-gray-50 focus:bg-white transition"></div>
                    <div><label class="block text-sm font-semibold text-gray-700">Business Name</label><input type="text" class="w-full border p-2 rounded mt-1 bg-gray-50 focus:bg-white transition"></div>
                    <div><label class="block text-sm font-semibold text-gray-700">Sales Rep</label><input type="text" class="w-full border p-2 rounded mt-1 bg-gray-50 focus:bg-white transition"></div>
                </div>

                <h2 class="text-lg font-bold mb-4 border-b pb-2 text-blue-900">2. Slide Selection</h2>
                <p class="text-xs text-gray-500 mb-3">Check to include. Drag the grip (☰) to reorder the presentation flow.</p>
                <ul id="module-list" class="space-y-2">
                    <li class="flex items-center bg-gray-50 p-3 rounded border border-gray-200 shadow-sm cursor-grab hover:bg-gray-100 transition">
                        <span class="mr-3 text-gray-400 cursor-grab handle">☰</span>
                        <input type="checkbox" checked class="mr-3 w-4 h-4 text-blue-600 rounded">
                        <span class="flex-1 font-medium select-none">Title Page</span>
                    </li>
                    <li class="flex items-center bg-gray-50 p-3 rounded border border-gray-200 shadow-sm cursor-grab hover:bg-gray-100 transition">
                        <span class="mr-3 text-gray-400 cursor-grab handle">☰</span>
                        <input type="checkbox" checked class="mr-3 w-4 h-4 text-blue-600 rounded">
                        <span class="flex-1 font-medium select-none">Why GPC?</span>
                    </li>
                    <li class="flex items-center bg-gray-50 p-3 rounded border border-gray-200 shadow-sm cursor-grab hover:bg-gray-100 transition">
                        <span class="mr-3 text-gray-400 cursor-grab handle">☰</span>
                        <input type="checkbox" checked class="mr-3 w-4 h-4 text-blue-600 rounded">
                        <span class="flex-1 font-medium select-none">About GPC</span>
                    </li>
                    <li class="flex items-center bg-gray-50 p-3 rounded border border-gray-200 shadow-sm cursor-grab hover:bg-gray-100 transition">
                        <span class="mr-3 text-gray-400 cursor-grab handle">☰</span>
                        <input type="checkbox" class="mr-3 w-4 h-4 text-blue-600 rounded">
                        <span class="flex-1 font-medium select-none">24-Hour NOC Monitoring</span>
                    </li>
                    <li class="flex items-center bg-gray-50 p-3 rounded border border-gray-200 shadow-sm cursor-grab hover:bg-gray-100 transition">
                        <span class="mr-3 text-gray-400 cursor-grab handle">☰</span>
                        <input type="checkbox" class="mr-3 w-4 h-4 text-blue-600 rounded">
                        <span class="flex-1 font-medium select-none">Dedicated Internet Access (DIA)</span>
                    </li>
                </ul>
            </div>

            <div class="flex-1 bg-gray-50 p-8 overflow-y-auto">
                
                <div class="bg-white p-6 rounded-lg shadow-sm border border-gray-200 mb-6">
                    <h3 class="text-lg font-bold mb-2 text-blue-900">USAC Original RFP Upload</h3>
                    <p class="text-sm text-gray-500 mb-4">Upload the original RFP document to ensure USAC compliance. It will be appended to the output.</p>
                    <div class="border-2 border-dashed border-gray-300 rounded-lg p-10 text-center bg-gray-50 hover:bg-blue-50 hover:border-blue-400 transition cursor-pointer">
                        <svg class="mx-auto h-12 w-12 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"></path></svg>
                        <span class="mt-2 block text-gray-600 font-medium">Drag and drop original RFP here, or click to browse</span>
                    </div>
                </div>

                <div class="bg-white p-6 rounded-lg shadow-sm border border-gray-200 h-96 flex flex-col">
                    <div class="flex justify-between items-center mb-4 border-b pb-2">
                        <h3 class="text-lg font-bold text-blue-900">Dynamic Pricing Engine</h3>
                        <button class="bg-blue-600 text-white text-sm font-semibold px-4 py-2 rounded shadow hover:bg-blue-700 transition">
                            + Add Location
                        </button>
                    </div>
                    <div class="flex-1 flex items-center justify-center border-2 border-dashed border-gray-200 rounded-lg bg-gray-50 text-gray-400 italic">
                        [ The HTML Pricing Table Builder will map here ]
                    </div>
                </div>

                <div class="mt-8 text-right">
                    <button class="bg-green-600 text-white font-bold text-lg px-8 py-3 rounded shadow-lg hover:bg-green-700 transition">
                        Generate Proposal
                    </button>
                </div>

            </div>
        </div>
    </div>

    <script>
        // --- Passcode Protection Logic ---
        const TEAM_PASSCODE = 'GPC-STRATEGIC'; 
        
        document.getElementById('unlock-btn').addEventListener('click', attemptUnlock);
        document.getElementById('passcode-input').addEventListener('keypress', function (e) {
            if (e.key === 'Enter') attemptUnlock();
        });

        function attemptUnlock() {
            const input = document.getElementById('passcode-input').value;
            if(input === TEAM_PASSCODE) {
                document.getElementById('passcode-screen').classList.add('hidden');
                document.getElementById('main-content').classList.remove('hidden');
            } else {
                document.getElementById('error-msg').classList.remove('hidden');
            }
        }

        // --- Drag and Drop Logic (SortableJS) ---
        const moduleList = document.getElementById('module-list');
        new Sortable(moduleList, {
            animation: 150,
            handle: '.handle', // Only allows dragging when grabbing the ☰ icon
            ghostClass: 'bg-blue-100', // Highlights the item being dragged
            onEnd: function (evt) {
                console.log('Slide order updated.'); 
                // We will tie this to the JSON payload later
            },
        });
    </script>
</body>
</html>
